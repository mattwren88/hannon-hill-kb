<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<meta charset="utf-8"/>
		<title>Load Balancing - Cascade CMS Knowledge Base</title>
		<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
		<link href="https://www.hannonhill.com/cascadecms/latest/_files/images/apple-touch-icon-57x57.png" name="favicon" rel="shortcut icon" type="image/png"/>
		
  <link href="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/style.css" rel="stylesheet"/>
  <link href="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/custom.css" rel="stylesheet"/>
  <link href="https://www.hannonhill.com/cascadecms/latest/_files/lib/prettify/prettify.css" rel="stylesheet"/>
  <link href="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/prism/prism.css" rel="stylesheet" type="text/css"/>
  <link href="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/lib/fonts/fontawesome-all.css" rel="stylesheet"/>
  
  <!-- Preload Font Awesome fonts -->
  <link as="font" crossorigin="anonymous" href="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/lib/fonts/fa-solid-900.woff2" rel="preload" type="font/woff2"/>
  <link as="font" crossorigin="anonymous" href="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/lib/fonts/fa-brands-400.woff2" rel="preload" type="font/woff2"/>

 <!-- Conditional comment for IE 7 -->
<!--[if IE 7]>
   <link rel="stylesheet" href="/_files/lib/bootstrap/font-awesome-ie7.css">
<![endif]-->
<link href="https://customer.cludo.com/css/templates/v2.1/essentials/cludo-search.min.css" rel="stylesheet" type="text/css"/>

		
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js" type="text/javascript"></script>
		
<!-- Google Tag Manager -->

<script>
  dataLayer = [];
</script>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WQQX65');</script>

<!-- End Google Tag Manager -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.10/clipboard.min.js"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/lib/prettify/prettify.js" type="text/javascript"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/lib/prettify/lang-css.js" type="text/javascript"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/lib/prettify/lang-sql.js" type="text/javascript"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/lib/prettify/lang-yaml.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function() { prettyPrint(); });
</script>

		
		<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		
		<link href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/load-balancing.html" rel="canonical"/>
		<meta content="8a12f0d93211e3712e6e616d64be08a0" name="id"/>
	</head>
	<body data-spy="scroll" data-target=".release-sidebar">
	    <a class="sr-only sr-only-focusable" href="#main-content">Skip to main content</a>
<a class="sr-only sr-only-focusable" href="#sidebar">Skip to sidebar / page navigation</a>
		<!-- Google Tag Manager (noscript) --><noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-WQQX65" style="display:none;visibility:hidden" width="0"></iframe></noscript><!-- End Google Tag Manager (noscript) -->
		

<nav aria-labelledby="navbar-brand" class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="https://www.hannonhill.com/cascadecms/latest/index.html" id="navbar-brand" name="brand"><img alt="Cascade CMS Logo" src="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/_images/kb-logo-new.png"/></a>
    <button aria-controls="navbarCollapse" aria-expanded="false" aria-label="toggle navigation" class="navbar-toggler" data-target="#navbarCollapse" data-toggle="collapse" type="button">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav ml-auto">


        
                
        
            <li class="nav-item"><a class="nav-link" href="https://www.hannonhill.com/cascadecms/latest/releases/index.html">Release Notes</a></li>
    
        
                
        
            <li class="nav-item"><a class="nav-link" href="https://help.hannonhill.com/hc/en-us">Support</a></li>
                </ul>
            <nav>
    <form class="form-inline search-bar" id="cludo-search-form-top" role="search">
        <div class="search-box">
        <input aria-label="Search" autocomplete="off" class="form-control form-control-sm search-input" id="searchBox" name="q" placeholder="Search..." type="search"/>
        <a class="search-btn" href="#" id="cludo-voice-parent" type="button">
            <i class="fa-solid fa-magnifying-glass"></i>
        </a>
        </div>
    </form>
</nav>
        </div>
    </nav>


		
		<div class="container">
			<div class="content-wrapper">
				



<nav aria-label="breadcrumb">
    <ol class="breadcrumb">

        
               <li class="breadcrumb-item"><a href="https://www.hannonhill.com/cascadecms/latest/index.html">            Home    
    </a></li>
      
        
               <li class="breadcrumb-item"><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/index.html">            Cascade Administration    
    </a></li>
      
        
               <li class="breadcrumb-item"><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/index.html">            Installation &amp; Upgrades    
    </a></li>
      
        
                           <li class="breadcrumb-item"><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/index.html">            System Configuration    
    </a></li>
           <li aria-current="page" class="breadcrumb-item active">Load Balancing</li>
             
    </ol>
</nav>
				<div class="row">
					<div class="col-sm-12 col-md-3">
						                                                                        
						<a aria-controls="sidebar" aria-expanded="false" class="btn d-md-none sidebarButton mb-2" data-toggle="collapse" href="#sidebar" role="button">☰</a>
<nav class="sidenav site-footer collapse d-md-block mb-2" id="sidebar">
        <h3>In this Section</h3>
    <ul class="list-unstyled list-group list-group-item mb-2">
                                                                                                                                                                                                                                                                                                                <li class="folder-item"><a aria-label="Section Topic" href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/load-balancing.html">Load Balancing</a>
                        <ul class="navHighlighter">
                                                                                                <li><a aria-label="Skip to Overview" href="#Overview">Overview</a> </li>
                                                                                                                                <li><a aria-label="Skip to Load Balancing Requirements" href="#LoadBalancingRequirements">Load Balancing Requirements</a> </li>
                                                                                                                                <li><a aria-label="Skip to Tomcat Configuration" href="#TomcatConfiguration">Tomcat Configuration</a> </li>
                                                                                                                                <li><a aria-label="Skip to Apache Configuration" href="#ApacheConfiguration">Apache Configuration</a> </li>
                                                                                                                                <li><a aria-label="Skip to Cache Configuration" href="#CacheConfiguration">Cache Configuration</a> </li>
                                                                                                                                <li><a aria-label="Skip to Verifying Cache Synchronization" href="#VerifyingCacheSynchronization">Verifying Cache Synchronization</a> </li>
                                                                                                                                <li><a aria-label="Skip to Tying it Together" href="#TyingitTogether">Tying it Together</a> </li>
                                                                                                                                <li><a aria-label="Skip to Troubleshooting" href="#Troubleshooting">Troubleshooting</a> </li>
                                                                                    </ul>
                    </li>
                                                                                                                                                                                                                                                                                                                                                                                    </ul>
    
        <ul class="list-unstyled list-group list-group-item">
                            <li class="parent-folder"><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/index.html">Installation &amp; Upgrades</a></li>
                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/securing-session-cookies.html">Securing session cookies</a></li>
                                                                                                                        <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/update-license.html">Updating the license key</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/modify-heap-size.html">Modifying the Heap Size</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/modify-db.html">Modifying the Database Configuration</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/modify-thread-stack.html">Modifying the Thread Stack Size</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/load-balancing.html">Load Balancing</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/modify-ports.html">Modifying Application Ports</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/firewall.html">Firewall Considerations</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/email-proxy-support.html">Configuring outbound proxy support for system-generated emails</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/java-configuration.html">Configuring Cascade CMS to point to a Java installation</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/heap-dump-oom.html">Configuring the Heap Dump on Out of Memory option</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/upgrade-tomcat.html">Upgrading Tomcat independently of Cascade CMS</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/ssl-tls-configuration.html">SSL/TLS Configuration</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/force-ssl-tls.html">Forcing connections to use SSL/TLS</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/enabling-or-disabling-tls-versions.html">Enabling or Disabling TLS Versions</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/enabling-http-strict-transport-security-hsts.html">Enabling HTTP Strict Transport Security (HSTS)</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/apache-2.4-proxy.html">Using Apache 2.4 to proxy Cascade CMS</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/logging-rotation-compression.html">Configuring Cascade CMS Log Rotation and Compression</a></li>
                                    </ul>
</nav>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Function to toggle the sidebar's 'show' class based on window width
        function toggleSidebar() {
            var width = window.innerWidth;
            var sidebar = document.getElementById('sidebar');
            if (Math.max(width, 768) === width) { // Assumes 'md' breakpoint is at 768px
                sidebar.classList.add('show');
            } else {
                sidebar.classList.remove('show');
            }
        }

        // Run on initial load
        toggleSidebar();

        // Attach the function to the resize event listener
        window.addEventListener('resize', toggleSidebar);
    });
</script>
						
						
					</div>
					<main class="col-sm-12 col-md-9" id="main-content" role="main">
						
						


<style>
    main{
        display: flex;
        flex-direction: column;
        gap: 1em;
    }
</style>

        <div class="card shadow-big  width" id="expand">
                        <div class="icon-wrapper">
        <i class="fa-solid col-visible-md fa-up-right-and-down-left-from-center" id="iconToggle" onclick="toggleWidthAndIcon()"></i>
    </div>
            <div class="flex">
            <span class="badge badge-danger">System Configuration</span>
        </div>
        <header>
                            <h1>Load Balancing 
                                        </h1>
                    </header>
      <a name="Load+Balancing"></a>
    
                        
                                                
            <section aria-label="Overview" class="anchor-heading" id="Overview">
                                        <h2>Overview     <a aria-label="Skip to Overview" href="#Overview"><i class="fas fa-link icon-anchor-link"></i></a></h2>
                        <p>Load balancing is the process by which activity in the system is evenly distributed across a network (multiple application servers) so that no single device/server is overwhelmed.&#160;</p>
<p>With the re-architecture of Cascade CMS, users are provided the ability to load balance multiple application servers to reduce downtime and improve performance. This involves running multiple Cascade CMS&#160;machines behind a proxy, or load balancer; typically this will be Apache. To the end user, the CMS address stays the same; behind the scenes, one of many different application servers will handle each user&#8217;s requests.</p>
<p>Load balancing provides concurrency; it allows for more users in the system at one time. In addition, load balancing allows the system to handle server down-time more gracefully and includes failure detection. In the event of a server failure, for example, with three Cascade CMS servers&#160;running and Apache &#8220;in-front&#8221; of it handling load balancing, Apache will simply stop sending requests to the failing server.</p>
<p>Please note, when using Load Balancing, it is recommended that you have all of your servers living on the same LAN.</p>
<p>&#160;<img alt="load balanced system diagram" class="img-polaroid" height="473" src="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/images/cascade-networ-topology-load-balanced.jpg" width="465"/></p>
<p>This diagram illustrates a typical CS load balanced network topology. Requests from end users are received by an Apache instance running the mod_jk module. These requests are then dispatched by mod_jk to the CS machines. The CS servers interact with the database normally. Typically one will be able to run multiple CS servers against a single database. Sometimes, depending on the configuration, it may be desirable for the database to also be load balanced; this is currently outside the scope of this document. At present, only CS load balancing is supported by Hannon Hill.</p>
                                    </section>
                    
                                                
            <section aria-label="Load Balancing Requirements" class="anchor-heading" id="LoadBalancingRequirements">
                                        <h2>Load Balancing Requirements     <a aria-label="Skip to Load Balancing Requirements" href="#LoadBalancingRequirements"><i class="fas fa-link icon-anchor-link"></i></a></h2>
                        <ul>
<li>All CS machines must be running the exact same version of the software.</li>
<li>Running multiple CS nodes on the same physical machine is not supported.</li>
<li>When upgrading a group of CS servers, all nodes must be brought down before the software is upgraded on each node.</li>
<li>Hannon Hill supports using Apache 2+ mod_jk for fail-over and load balancing.</li>
<li>Each CS node name must be unique.</li>
</ul>
<p>If you have CS deployed in something other than the ROOT webapp, you will need to ensure that your JkMount directive uses the same webapp name as the mount point.</p>
<p>Session replication will not be a part of the CS load balancing strategy. That means that any user sessions that are on a node will be terminated if that node is brought down. The user will see this event as being redirected to the login screen.</p>
<p>When running in a load balanced configuration, all servers on which Cascade CMS&#160;are running must have their internal clocks synchronized to within one second of each other. The preferred solution is to use a common NTP (Network Time Protocol) server setting on all application servers.</p>
<p>All servers in a load balanced configuration must have their search index location (<strong>Administration</strong> &gt; <strong>Search Indexing</strong> &gt; <strong>Index Location</strong>) set to a shared disk space.</p>
                                    </section>
                    
                                                
            <section aria-label="Tomcat Configuration" class="anchor-heading" id="TomcatConfiguration">
                                        <h2>Tomcat Configuration     <a aria-label="Skip to Tomcat Configuration" href="#TomcatConfiguration"><i class="fas fa-link icon-anchor-link"></i></a></h2>
                        <p>Each CS application server runs off of an included Tomcat&#160;8 instance. In order to enable load balancing, edit the <em>conf/server.xml</em> file:</p>
<p>Add a <code>jvmRoute=&#8221;nodename&#8221;</code> attribute to the&#160;<code>&lt;Engine.../&gt;</code>&#160;element:</p>
                        <pre class="line-numbers">
<code class="language-xml">
&lt;Engine name="Catalina" defaultHost="localhost" jvmRoute="xpproone"&gt;
</code></pre>
                                    <p>The name of each node must be unique across all CS servers.</p>
                                        </section>
                    
                                                
            <section aria-label="Apache Configuration" class="anchor-heading" id="ApacheConfiguration">
                                        <h2>Apache Configuration     <a aria-label="Skip to Apache Configuration" href="#ApacheConfiguration"><i class="fas fa-link icon-anchor-link"></i></a></h2>
                        <p>The supported load balancing configuration includes Apache 2 + mod_jk. This document assumes that Apache 2 will load mod_jk as a shared module. This document also assumes that the reader has some familiarity with configuring Apache.</p>
<p>Once Apache 2 and mod_jk have been built, ensure that the following configuration file changes are made:</p>
                        <pre class="line-numbers">
<code class="language-xml">
${apache.home}/conf/httpd.conf:  
          LoadModule    jk_module  modules/mod_jk.so  
          JkWorkersFile workers.properties  
          JkShmFile     mod_jk.shm  
          JkLogFile     logs/mod_jk.log  
          JkLogLevel    info  
          JkLogStampFormat "[%a %b %d %H:%M:%S %Y] "  
          JkMount  /* loadbalancer
</code></pre>
                                    <p>The JkMount directive assumes that the sole purpose of this apache instance is to proxy to a group of CS machines. If this is not the case, one may provide these directives in the context of a virtual host.</p>
<p>Note also that depending on how Apache is launched on your system, it may be necessary to provide full paths to the shared memory file, log file, and workers file.</p>
                            <pre class="line-numbers">
<code class="language-xml">
${apache.home}/workers.properties:  
         # Define the load balancer worker  
          worker.list=loadbalancer  
      
          worker.xpproone.type=ajp13  
          worker.xpproone.host=192.168.168.128  
          worker.xpproone.port=8009  
          worker.xpproone.lbfactor=1  
           
          worker.xpprotwo.type=ajp13  
          worker.xpprotwo.host=192.168.168.130  
          worker.xpprotwo.port=8009  
          worker.xpprotwo.lbfactor=1  
          worker.loadbalancer.type=lb  
          worker.loadbalancer.balance_workers=xpproone, xpprotwo
</code></pre>
                                    <p>The workers.properties file is the configuration file that mod_jk uses to determine where to relay requests. We&#8217;ll go over each one of the lines in this configuration:</p>
                            <pre class="line-numbers">
<code class="language-xml">
# Define the load balancer worker  
          worker.list=loadbalancer
</code></pre>
                                    <p>This defines the load balancer worker. It will distribute requests to each CS server.</p>
                            <pre class="line-numbers">
<code class="language-xml">
worker.xpproone.type=ajp13  
          worker.xpproone.host=192.168.168.128  
          worker.xpproone.port=8009  
          worker.xpproone.lbfactor=1
</code></pre>
                                    <p>Defines a worker called xpproone. This must be the same name as that node&#8217;s jvmRoute attribute in server.xml. This worker is available at 192.168.168.128. Note that the port should be the same across all instances. This worker has a load factor of 1. Higher load factors will get more requests from mod_jk.</p>
                            <pre class="line-numbers">
<code class="language-xml">
worker.xpprotwo.type=ajp13  
          worker.xpprotwo.host=192.168.168.130  
          worker.xpprotwo.port=8009  
          worker.xpprotwo.lbfactor=1
</code></pre>
                                    <p>Similarly defines a worker called xpprotwo. The semantics in the previous section also apply here.</p>
                            <pre class="line-numbers">
<code class="language-xml">
worker.loadbalancer.type=lb  
          worker.loadbalancer.balance_workers=xpproone, xpprotwo
</code></pre>
                                    <p>Defines the loadbalancer worker to be special type of worker that can distribute requests to other workers. Configures that worker to distribute its requests to xpproone and xpprotwo.</p>
                                        </section>
                    
                                                
            <section aria-label="Cache Configuration" class="anchor-heading" id="CacheConfiguration">
                                        <h2>Cache Configuration     <a aria-label="Skip to Cache Configuration" href="#CacheConfiguration"><i class="fas fa-link icon-anchor-link"></i></a></h2>
                        <p>In order for caching in load balanced Cascade CMS&#160;nodes to work properly, please follow these steps:</p>
<ol>
<li>On each node, locate the <em>ehcache.properties</em>&#160;file in the directory: <em>tomcat/conf</em>.</li>
<li>Open the file in a text editor.</li>
<li>Verify whether or not your network has &#8220;multicast&#8221; enabled. If so, replace the <code>replication=none</code> property with <code>replication=multicast</code> in Section&#160;1. If you are unsure if multicast is enabled, you can try it out with default settings and then confirm that cache synchronization works using the steps below. If you are aware of your specific multicast settings being different than the default ones, you will need to update the properties in Section&#160;3.</li>
<li>If multicast is disabled, replace the <code>replication=none</code> property with <code>replication=manual</code> in Section&#160;1 and proceed to Section&#160;4 where you will need to provide current node's IP address in <code>thisnodeaddress</code> property and IP addresses of all the nodes in <code>node{n}address</code> properties where <code>{n}</code> is a consecutive number you can assign to each node starting from 1. It is important not to skip a number (e.g. by providing node1address and node3address but skipping node2address).</li>
<li>Optionally, you can change the port number the nodes will use to communicate with each other in Section&#160;2. Change this if the default port 40001 is already taken by some other application. Change the <code>async</code> property to <code>false</code> if your nodes take too long time to synchronize with each other causing data inconsistency issues.</li>
<li>Copy the configuration to each node. For manual replication please remember to update <code>thisnodeaddress</code> property for each node.</li>
</ol>
<div class="alert alert-danger"><strong>Important</strong> - In addition to the <code>rmiport</code> setting in the <em>ehcache.properties</em> file (default: <code>40001</code>), the cache synchronization process must be able to dynamically allocate ports between <code>1024 - 65536</code> on every node in the cluster. Firewalls must be configured to allow all traffic between nodes over this entire port range.</div>
<div class="alert alert-danger"><strong>Important</strong> - These steps will need to be repeated after each upgrade of Cascade CMS from this point forward.</div>
                                    </section>
                    
                                                
            <section aria-label="Verifying Cache Synchronization" class="anchor-heading" id="VerifyingCacheSynchronization">
                                        <h2>Verifying Cache Synchronization     <a aria-label="Skip to Verifying Cache Synchronization" href="#VerifyingCacheSynchronization"><i class="fas fa-link icon-anchor-link"></i></a></h2>
                        <p>With nobody else accessing Cascade CMS&#160;at the time of this test, please perform the following steps:</p>
<ol>
<li>Verify that <strong>Index Block Rendering Cache</strong> is enabled in the <strong>Administration</strong> &gt;<strong>&#160;Preferences</strong>&#160;&gt; <strong>Content</strong> &gt; <strong>Index Blocks</strong> and that the <strong>Use legacy caching strategy</strong> option is disabled.</li>
<li>Log in to one node of your choice directly and create a folder Index Block with a folder selected so that at least one child asset&#8217;s name is being rendered in that Index Block when viewing it. Do not include the assets&#8217; XML contents in your Index Block.</li>
<li>View that Index Block and take note of the child asset&#8217;s name inside of the rendering.</li>
<li>Log in to another node and rename that child asset.</li>
<li>Log back in to the first node and refresh the Index Block rendering. Verify that the new name is being displayed now.</li>
</ol>
<p>If you still see the old name, it means that cache synchronization is not working properly. Potential reasons:</p>
<ul>
<li>Your firewall does not allow your nodes to communicate with each other. Please verify that the port provided in Section&#160;2&#160;as <code>rmiport</code> is open for communication between the nodes. Alternatively, change that port number to something else.</li>
<li>If your configuration uses multicast replication you might need to adjust the multicast properties in Section&#160;3. If you are unsure if multicast is enabled in your network at this point you might be better off by configuring manual replication.</li>
<li>If you are using manual replication, please make sure that all the nodes&#8217; IP addresses are correct, nodes numbers in property names are in consecutive order and that the <code>thisnodeaddress</code> property value is updated for each node.</li>
<li>If you can verify your cache synchronization works using the steps above but it does not work using some other steps (especially if these steps involve making many asset modifications in short period of time), you can try disabling the <code>async</code> option is Section&#160;2 which will end up with slower execution but it will make sure that all your nodes are synchronized as soon as changes are being made instead of performing the synchronization in the background.</li>
</ul>
                                    </section>
                    
                                                
            <section aria-label="Tying it Together" class="anchor-heading" id="TyingitTogether">
                                        <h2>Tying it Together     <a aria-label="Skip to Tying it Together" href="#TyingitTogether"><i class="fas fa-link icon-anchor-link"></i></a></h2>
                        <p>Once configuration files have been edited, start Apache, and each Tomcat node. After the servers have been brought up, users should be able to access Cascade CMS&#160;through Apache.</p>
                                    </section>
                    
                                                
            <section aria-label="Troubleshooting" class="anchor-heading" id="Troubleshooting">
                                        <h2>Troubleshooting     <a aria-label="Skip to Troubleshooting" href="#Troubleshooting"><i class="fas fa-link icon-anchor-link"></i></a></h2>
                        <h4>I try to log in, but keep getting redirected to the login screen over and over.</h4>
<p>This is usually a result of a misconfiguration with mod_jk.&#160; Make sure that each node&#8217;s jvmRoute attribute is set correctly, and is the name of the worker as defined in worker.properties.</p>
<h4>I can log in, but I get automatically logged out repeatedly.</h4>
<p>This is a common result of having asynchronized internal clocks on multiple servers. When running in a load balanced configuration, all servers on which Cascade CMS&#160;are running must have their internal clocks synchronized to within one second of each other. The preferred solution is to use a common NTP (Network Time Protocol) server setting on all application servers.</p>
                                    </section>
                                     <a aria-label="Back to top" class="scroll-container" href="#top">
        <span class="scroll-container__icon">↑</span>
    </a>
  
        </div>
            
    <script>
      function toggleWidthAndIcon() {
        var element = document.getElementById("expand");
        var icon = document.getElementById("iconToggle");
    
        // Check if the content is currently full width
        if (element.classList.contains("width-full")) {
          // If yes, switch to "width" and update the icon to "expand"
          element.classList.remove("width-full");
          element.classList.add("width");
          icon.classList.remove('fa-down-left-and-up-right-to-center');
          icon.classList.add('fa-up-right-and-down-left-from-center');
        } else {
          // If not, switch to "width-full" and update the icon to "un-expand"
          element.classList.remove("width");
          element.classList.add("width-full");
          icon.classList.remove('fa-up-right-and-down-left-from-center');
          icon.classList.add('fa-down-left-and-up-right-to-center');
        }
      }
    </script>
    
						
					</main>
				</div>
			</div>
			<footer>
				<div class="footer-wrapper ">
    <div class="cludo-feedback"></div> 
<hr/>
<div class="footer-container">
    <div class="footer-left">
        <img alt="cascade cms icon" class="footer-logo" src="https://www.hannonhill.com/cascadecms/latest/_files/images/apple-touch-icon-57x57.png"/>
        
                <p class="" id="site-copyright">All content <a aria-hidden="true" class="quickedit" href="https://hannonhill.cascadecms.com/entity/open.act?id=8a12f0d93211e3712e6e616d64be08a0&amp;type=page" tabindex="-1" target="_blank">©</a> 2026 <a href="https://www.hannonhill.com/index.html">Hannon Hill</a></p>
        
        
    </div>
    <div class="footer-right">
         <ul>
            <li><a href="https://www.hannonhill.com/about-us/about-hannon-hill.html">About us</a></li>
            <li><a href="https://www.hannonhill.com/about-us/join-our-team/index.html">Careers</a></li>
            <li><a href="https://www.hannonhill.com/documents/index.html">Compliance</a></li>
            <li><a href="https://www.hannonhill.com/resources/index.html">Resources</a></li>
            <li><a href="https://portal.productboard.com/gp4tteft4txh4nde2tnnnybl">Idea Portal</a></li>
            <li><a href="https://www.hannonhill.com/cascadecms/latest/sitemap.html">Site Index</a></li>
            <li><a href="https://github.com/hannonhill">Github</a></li>
        </ul>
    </div>
</div>
</div>
			</footer>
		</div>
		
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/lib/bootstrap/bootstrap.min.js"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/lib/bootstrap/scrollspy.js"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/application.js"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/prism/prism.js" type="text/javascript"></script>
<script src="https://customer.cludo.com/scripts/bundles/search-script.min.js" type="text/javascript"></script>
<script>
var CludoSearch;
(function () {
    var cludoSettings = {
        customerId: 10001479,
        engineId: 10002755,
        searchUrl: 'https://www.hannonhill.com/cascadecms/latest/search.html',
        language: 'en',
        searchInputs: ['cludo-search-form', 'cludo-search-form-top'],
        hideSearchFilters: true,
        focusOnResultsAfterSearch: true,
        type: 'inline',
        template: 'InlineBasic',
        disableAutocomplete: true,
        <!--enableVoiceSearch: true-->
    };
    CludoSearch = new Cludo(cludoSettings);
    CludoSearch.init();
})();
</script>
<!--Cludo Experiences-->
<script data-cid="10001479" defer="defer" id="cludo-experience-manager" src="https://customer.cludo.com/scripts/bundles/experiences/manager.js"></script>
<!--[if lte IE 9]>
    <script src="https://api.cludo.com/scripts/xdomain.js" slave="https://api.cludo.com/proxy.html" type="text/javascript"></script>
<![endif]-->


		
		
<script type="text/javascript">
    piAId = '1002';
    piCId = '1003';
    
    (function() {
        function async_load(){
            var s = document.createElement('script'); s.type = 'text/javascript';
            s.src = ('https:' == document.location.protocol ? 'https://pi' : 'http://cdn') + '.pardot.com/pd.js';
            var c = document.getElementsByTagName('script')[0]; c.parentNode.insertBefore(s, c);
        }
        if(window.attachEvent) { window.attachEvent('onload', async_load); }
        else { window.addEventListener('load', async_load, false); }
    })();
</script>
<script type="text/javascript">
  sAId = "1";
  sCId = "4";

  (function() {
    function async_load(){
      var s = document.createElement('script'); s.type = 'text/javascript';
      s.src = (('https:' == document.location.protocol) ? "https://ssl" : "http://cdn") + ".spectate.com/s.js";
      var c = document.getElementsByTagName('script')[0]; c.parentNode.insertBefore(s, c);
    }
    if(window.attachEvent) { window.attachEvent('onload', async_load); }
    else { window.addEventListener('load', async_load, false); }
  })();
</script>


	    <script async="true" src="https://live.clive.cloud/page-views/track/12"></script>
		
	</body>
</html>