<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<meta charset="utf-8"/>
		<title>Cascade CMS 8 Upgrade Prep Guide - Cascade CMS Knowledge Base</title>
		<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
		<link href="https://www.hannonhill.com/cascadecms/latest/_files/images/apple-touch-icon-57x57.png" name="favicon" rel="shortcut icon" type="image/png"/>
		
  <link href="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/style.css" rel="stylesheet"/>
  <link href="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/custom.css" rel="stylesheet"/>
  <link href="https://www.hannonhill.com/cascadecms/latest/_files/lib/prettify/prettify.css" rel="stylesheet"/>
  <link href="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/prism/prism.css" rel="stylesheet" type="text/css"/>
  <link href="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/lib/fonts/fontawesome-all.css" rel="stylesheet"/>
  
  <!-- Preload Font Awesome fonts -->
  <link as="font" crossorigin="anonymous" href="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/lib/fonts/fa-solid-900.woff2" rel="preload" type="font/woff2"/>
  <link as="font" crossorigin="anonymous" href="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/lib/fonts/fa-brands-400.woff2" rel="preload" type="font/woff2"/>

 <!-- Conditional comment for IE 7 -->
<!--[if IE 7]>
   <link rel="stylesheet" href="/_files/lib/bootstrap/font-awesome-ie7.css">
<![endif]-->
<link href="https://customer.cludo.com/css/templates/v2.1/essentials/cludo-search.min.css" rel="stylesheet" type="text/css"/>

		
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js" type="text/javascript"></script>
		
<!-- Google Tag Manager -->

<script>
  dataLayer = [];
</script>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WQQX65');</script>

<!-- End Google Tag Manager -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.10/clipboard.min.js"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/lib/prettify/prettify.js" type="text/javascript"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/lib/prettify/lang-css.js" type="text/javascript"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/lib/prettify/lang-sql.js" type="text/javascript"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/lib/prettify/lang-yaml.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function() { prettyPrint(); });
</script>

		
		<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		
		<link href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/cascade-8-upgrade-prep.html" rel="canonical"/>
		<meta content="6c663b320a894fa553437b764d842eea" name="id"/>
	</head>
	<body data-spy="scroll" data-target=".release-sidebar">
	    <a class="sr-only sr-only-focusable" href="#main-content">Skip to main content</a>
<a class="sr-only sr-only-focusable" href="#sidebar">Skip to sidebar / page navigation</a>
		<!-- Google Tag Manager (noscript) --><noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-WQQX65" style="display:none;visibility:hidden" width="0"></iframe></noscript><!-- End Google Tag Manager (noscript) -->
		

<nav aria-labelledby="navbar-brand" class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="https://www.hannonhill.com/cascadecms/latest/index.html" id="navbar-brand" name="brand"><img alt="Cascade CMS Logo" src="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/_images/kb-logo-new.png"/></a>
    <button aria-controls="navbarCollapse" aria-expanded="false" aria-label="toggle navigation" class="navbar-toggler" data-target="#navbarCollapse" data-toggle="collapse" type="button">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav ml-auto">


        
                
        
            <li class="nav-item"><a class="nav-link" href="https://www.hannonhill.com/cascadecms/latest/releases/index.html">Release Notes</a></li>
    
        
                
        
            <li class="nav-item"><a class="nav-link" href="https://help.hannonhill.com/hc/en-us">Support</a></li>
                </ul>
            <nav>
    <form class="form-inline search-bar" id="cludo-search-form-top" role="search">
        <div class="search-box">
        <input aria-label="Search" autocomplete="off" class="form-control form-control-sm search-input" id="searchBox" name="q" placeholder="Search..." type="search"/>
        <a class="search-btn" href="#" id="cludo-voice-parent" type="button">
            <i class="fa-solid fa-magnifying-glass"></i>
        </a>
        </div>
    </form>
</nav>
        </div>
    </nav>


		
		<div class="container">
			<div class="content-wrapper">
				



<nav aria-label="breadcrumb">
    <ol class="breadcrumb">

        
               <li class="breadcrumb-item"><a href="https://www.hannonhill.com/cascadecms/latest/index.html">            Home    
    </a></li>
      
        
               <li class="breadcrumb-item"><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/index.html">            Cascade Administration    
    </a></li>
      
        
                           <li class="breadcrumb-item"><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/index.html">            Installation &amp; Upgrades    
    </a></li>
           <li aria-current="page" class="breadcrumb-item active">Cascade CMS 8 Upgrade Prep Guide</li>
             
    </ol>
</nav>
				<div class="row">
					<div class="col-sm-12 col-md-3">
						                                                                        
						<a aria-controls="sidebar" aria-expanded="false" class="btn d-md-none sidebarButton mb-2" data-toggle="collapse" href="#sidebar" role="button">☰</a>
<nav class="sidenav site-footer collapse d-md-block mb-2" id="sidebar">
        <h3>In this Section</h3>
    <ul class="list-unstyled list-group list-group-item mb-2">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li class="folder-item"><a aria-label="Section Topic" href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/cascade-8-upgrade-prep.html">Cascade CMS 8 Upgrade Prep Guide</a>
                        <ul class="navHighlighter">
                                                                                                <li><a aria-label="Skip to Remove Content from the Global Area" href="#RemoveContentfromtheGlobalArea">Remove Content from the Global Area</a> </li>
                                                                                                                                <li><a aria-label="Skip to Assign Content Types to Page Assets" href="#AssignContentTypestoPageAssets">Assign Content Types to Page Assets</a> </li>
                                                                                                                                <li><a aria-label="Skip to Query Database to Verify Its Upgradability" href="#QueryDatabasetoVerifyItsUpgradability">Query Database to Verify Its Upgradability</a> </li>
                                                                                                                                <li><a aria-label="Skip to Auto-Migrated Global Site" href="#Auto-MigratedGlobalSite">Auto-Migrated Global Site</a> </li>
                                                                                                                                <li><a aria-label="Skip to Rolling Back Cascade" href="#RollingBackCascade">Rolling Back Cascade</a> </li>
                                                                                    </ul>
                    </li>
                                                                </ul>
    
        <ul class="list-unstyled list-group list-group-item">
                            <li class="parent-folder"><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/index.html">Cascade Administration</a></li>
                                                                                                                                                    <li class="folder-item"><a aria-label="Scroll to Section" data-toggle="collapse" href="#collapsedatabase">+ Database</a>
                            <ul class="navHighlighter collapse" id="collapsedatabase">
                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/database/index.html">Database Overview</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/database/mysql.html">Setting up the database (MySQL)</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/database/oracle.html">Setting up the database (Oracle)</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/database/sqlserver.html">Setting up the database (SQL Server)</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/database/db-size-manage.html">Database Size Management Tips</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/database/db-backup.html">Creating a database backup</a></li>
                                                                                        </ul>
                        </li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/linux.html">Installation/Upgrade (ZIP)</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/windows.html">Installation/Upgrade (Windows)</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/macos.html">Installation/Upgrade (macOS)</a></li>
                                                                    <li class="folder-item"><a aria-label="Scroll to Section" data-toggle="collapse" href="#collapsesystem-configuration">+ System Configuration</a>
                            <ul class="navHighlighter collapse" id="collapsesystem-configuration">
                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/securing-session-cookies.html">Securing session cookies</a></li>
                                                                                                                                                                                        <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/index.html">System Configuration Overview</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/update-license.html">Updating the license key</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/modify-heap-size.html">Modifying the Heap Size</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/modify-db.html">Modifying the Database Configuration</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/modify-thread-stack.html">Modifying the Thread Stack Size</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/load-balancing.html">Load Balancing</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/modify-ports.html">Modifying Application Ports</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/firewall.html">Firewall Considerations</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/email-proxy-support.html">Configuring outbound proxy support for system-generated emails</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/java-configuration.html">Configuring Cascade CMS to point to a Java installation</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/heap-dump-oom.html">Configuring the Heap Dump on Out of Memory option</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/upgrade-tomcat.html">Upgrading Tomcat independently of Cascade CMS</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/ssl-tls-configuration.html">SSL/TLS Configuration</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/force-ssl-tls.html">Forcing connections to use SSL/TLS</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/enabling-or-disabling-tls-versions.html">Enabling or Disabling TLS Versions</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/enabling-http-strict-transport-security-hsts.html">Enabling HTTP Strict Transport Security (HSTS)</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/apache-2.4-proxy.html">Using Apache 2.4 to proxy Cascade CMS</a></li>
                                                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/system-configuration/logging-rotation-compression.html">Configuring Cascade CMS Log Rotation and Compression</a></li>
                                                                                        </ul>
                        </li>
                                                                                            <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/windows-service.html">Add or remove the Windows service</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/configure-a-web-server-for-publishing.html">Configure a web server for publishing</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/migrate-server.html">Migrating Cascade CMS to a new server</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/test-server.html">Setting up a test environment</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/migration-tool.html">Migration Tool</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/cascade-8-upgrade-prep.html">Cascade CMS 8 Upgrade Prep Guide</a></li>
                                                                <li><a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/running-cascade-cms-as-a-linux-service.html">Running Cascade CMS as a Linux service</a></li>
                                    </ul>
</nav>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Function to toggle the sidebar's 'show' class based on window width
        function toggleSidebar() {
            var width = window.innerWidth;
            var sidebar = document.getElementById('sidebar');
            if (Math.max(width, 768) === width) { // Assumes 'md' breakpoint is at 768px
                sidebar.classList.add('show');
            } else {
                sidebar.classList.remove('show');
            }
        }

        // Run on initial load
        toggleSidebar();

        // Attach the function to the resize event listener
        window.addEventListener('resize', toggleSidebar);
    });
</script>
						
						
					</div>
					<main class="col-sm-12 col-md-9" id="main-content" role="main">
						
						


<style>
    main{
        display: flex;
        flex-direction: column;
        gap: 1em;
    }
</style>

        <div class="card shadow-big  width" id="expand">
                        <div class="icon-wrapper">
        <i class="fa-solid col-visible-md fa-up-right-and-down-left-from-center" id="iconToggle" onclick="toggleWidthAndIcon()"></i>
    </div>
            <div class="flex">
            <span class="badge badge-danger">Installation &amp; Upgrades</span>
        </div>
        <header>
                            <h1>Cascade CMS 8 Upgrade Prep Guide 
                                        </h1>
                    </header>
      <a name="Cascade+CMS+8+Upgrade+Prep+Guide"></a>
    
                        
                                                
            <section aria-label="Remove Content from the Global Area" class="anchor-heading" id="RemoveContentfromtheGlobalArea">
                                        <h2>Remove Content from the Global Area     <a aria-label="Skip to Remove Content from the Global Area" href="#RemoveContentfromtheGlobalArea"><i class="fas fa-link icon-anchor-link"></i></a></h2>
                        <p>As of Cascade CMS Version 8, the Global area for content no longer exists. All content and components must be stored and managed in Sites. Before beginning the upgrade process, Cascade CMS will check to ensure that no content remains in the&#160;Global area or the Global area's recycle bin. If any content remains in either area the upgrade process will stop.</p>
<p>Before upgrading to Cascade CMS Version 8 please verify that the Global area is completely empty by taking the following steps:</p>
<ul>
<li>Ensure that there are no assets visible in the Global area's asset tree other than the base Folder or any base Administration area Container, except the Default Metadata Set. If any assets remain, they should be deleted as long as they are not being referenced by assets that are in Sites. Assets in the Global area referenced by assets in Sites must be migrated using the Site Migration Tool&#160;or manually by recreating the asset inside a Site and reassigning any assets that point to the old asset so that they point to the new asset. Note that Page assets without&#160;a Content Type migrated from the Global area into Sites must be assigned a Content Type before or after upgrading before they can&#160;be edited. (See <a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/cascade-8-upgrade-prep.html#AssignContentTypestoPageAssets">Assign Content Types to Page Assets</a>.)</li>
<li>Ensure that there are no assets in the Global area's recycle bin. The recycle bin can be accessed from the Global area Dashboard or the Quick Links menu at the top right of the screen. If there <em>are</em> assets remaining in the Global area's Recycle Bin, you can use the Empty Recycle Bin link at the bottom of the recycle bin tab to remove them all at once.</li>
<li>Ensure that there are no active workflows in the Global area, including "Create" workflows.</li>
<li>Optional: Ensure that no assets in Sites use the Global area's Default Metadata Set. This can be verified by navigating to it in the Global area's Administration area and viewing&#160;the Relationships tab. Alternatively, any assets that still use the Global area's Default Metadata Set will be automatically updated to use&#160;a copy of the Default Metadata Set after the upgrade. (See <a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/cascade-8-upgrade-prep.html#Auto-MigratedGlobalSite">Auto-Migrated Global Site</a>.)</li>
<li>Optional: Ensure that there are no "Create" drafts for any user in the Global area. To remove "Create" drafts for users other than yourself, assume the identity of those users, navigate to the Drafts tab on their respective Home area Dashboards, and bulk delete all remaining drafts. The ability to assume another user's identity is only available in version 7.14.x and above. Alternatively, any remaining "Create" drafts in the Global area will be automatically moved&#160;to the base&#160;Folder of the Auto-Migrated Global Site after the upgrade. (See <a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/cascade-8-upgrade-prep.html#Auto-MigratedGlobalSite">Auto-Migrated Global Site</a>.)</li>
</ul>
<p>If you are a Cascade CMS Cloud customer, please follow the steps above and then contact support [at] hannonhill.com&#160;to coordinate a test of the upgrade.<br/><br/>If you are using Cascade CMS on premise, please&#160;create a copy of the database and test upgrading the copy in a <a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/test-server.html" rel="noopener noreferrer" target="_blank">test environment</a>. If the upgrade stops, the log file will list ids, paths, and types of all assets that must be updated, moved, or removed&#160;before the upgrade can complete. You should be able to access these assets (except for draft assets) directly by pasting the id and type included in each log message into the following URL:<br/><br/>http://{cascade-domain.com}/entity/open.act?id={id}&amp;type={type}<br/><br/>Note that if you delete&#160;assets, the recycle bin should be emptied as a final step.</p>
                                    </section>
                    
                                                
            <section aria-label="Assign Content Types to Page Assets" class="anchor-heading" id="AssignContentTypestoPageAssets">
                                        <h2>Assign Content Types to Page Assets     <a aria-label="Skip to Assign Content Types to Page Assets" href="#AssignContentTypestoPageAssets"><i class="fas fa-link icon-anchor-link"></i></a></h2>
                        <p>The elimination of the Global area in Cascade CMS version 8 means that Page assets must be managed in Sites and are therefore&#160;required to have a <a href="https://www.hannonhill.com/cascadeserver/Content-Type/index.html">Content Type</a> assigned to them.</p>
<p>Pages without an assigned Content Type may be migrated out of the Global area into a Site(s); however, upon upgrade they must be assigned a Content Type before changes to them can be submitted. It's recommended that this be done prior to the upgrade to avoid confusion on the part of&#160;content editors.</p>
<p>The following query will help identify any current version of a Page which does not have a Content Type assigned.</p>
                        <pre class="line-numbers">
<code class="language-markup">
select * from cxml_foldercontent where assetType = 'PAG' and isCurrentVersion = 1 and contentTypeId is null;
</code></pre>
                                        </section>
                    
                                                
            <section aria-label="Query Database to Verify Its Upgradability" class="anchor-heading" id="QueryDatabasetoVerifyItsUpgradability">
                                        <h2>Query Database to Verify Its Upgradability     <a aria-label="Skip to Query Database to Verify Its Upgradability" href="#QueryDatabasetoVerifyItsUpgradability"><i class="fas fa-link icon-anchor-link"></i></a></h2>
                        <p>If you have access to the Cascade CMS database, you can run the following queries to ensure the system contains no problematic assets before attempting the upgrade.</p>
<p>If any of these queries return more than 0 rows, the database is not ready to be upgraded. These queries are read-only and can be&#160;be performed against a running Cascade Server 7 instance and database before attempting the Cascade CMS 8 installation. These queries should&#160;be run as many times as needed until they all return 0 results.</p>
<p>Steps to resolve any issues that arise as a result of running these queries can be addressed using suggestions outlined in the <a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/cascade-8-upgrade-prep.html#RemoveContentfromtheGlobalArea">Remove Content from the Global Area</a><strong>&#160;</strong>section.</p>
                        <pre class="line-numbers">
<code class="language-markup">
select fc.id, fc.cachePath, fc.assetType, fc.isRecycled, fc.isCurrentVersion, fc.isWorkingCopy, fc.draftOriginalId, fc.draftUserId, fc.workflowId from cxml_foldercontent fc left join cxml_recyclerecord rr on fc.recycleRecordId = rr.id where fc.siteId is null and fc.id != 'ROOT' and (rr.recycleState != 2 or rr.recycleState is null) and (fc.isCurrentVersion = 1 or fc.isWorkingCopy = 1 or fc.draftOriginalId is not null);
select id, path from cxml_assetfactory where siteId is null;
select id, path from cxml_assetfactorycontainer where id != 'ROOT_assetfactorycontainer' and siteId is null;
select id, path from cxml_contenttype where siteId is null;
select id, path from cxml_contenttypecontainer where id != 'ROOT_contenttypecontainer' and siteId is null;
select id, path from cxml_destination where siteId is null;
select id, path from cxml_target where id != 'ROOT_target' and siteId is null;
select id, path from cxml_metadataset where id != 'ROOT_metadataset' and siteId is null;
select id, path from cxml_metadatasetcontainer where id != 'ROOT_metadatasetcontainer' and siteId is null;
select id, path from cxml_pageconfigurationset where siteId is null;
select id, path from cxml_pageconfigsetcont where id != 'ROOT_pageconfigsetcontainer' and siteId is null;
select id, path from cxml_publishset where siteId is null;
select id, path from cxml_publishsetcontainer where id != 'ROOT_publishsetcontainer' and siteId is null;
select id, path from cxml_structureddatadefinition where siteId is null;
select id, path from cxml_structureddatadefcont where id != 'ROOT_structureddatadefcontainer' and siteId is null;
select id, path from cxml_transport where siteId is null;
select id, path from cxml_transportcontainer where id != 'ROOT_transportcontainer' and siteId is null;
select id, path from cxml_workflowdefinition where siteId is null;
select id, path from cxml_workflowdefcontainer where id != 'ROOT_workflowdefinitioncontainer' and siteId is null;
</code></pre>
                                        </section>
                    
                                                
            <section aria-label="Auto-Migrated Global Site" class="anchor-heading" id="Auto-MigratedGlobalSite">
                                        <h2>Auto-Migrated Global Site     <a aria-label="Skip to Auto-Migrated Global Site" href="#Auto-MigratedGlobalSite"><i class="fas fa-link icon-anchor-link"></i></a></h2>
                        <p>On upgrade, if certain problem assets associated with the Global area are detected:</p>
<ul>
<li>A&#160;new Site named&#160;"_Auto-Migrated Global_" will be created. This Site is not given any permissions or assigned any Users, so only Administrators or Users who have the "Access All Sites" ability enabled will be able to access it.</li>
<li>Any assets that referenced&#160;the Global area's Default Metadata Set before the upgrade will be updated to use a copy of the Default&#160;Metadata Set (including dynamic fields) in the Auto-Migrated Global Site. The Relationships view can be used to re-assign these assets after upgrade.</li>
<li>Problem assets detected will be moved into the base Folder of the Auto-Migrated Global Site and can be dealt with after upgrade.</li>
</ul>
                                    </section>
                    
                                                
            <section aria-label="Rolling Back Cascade" class="anchor-heading" id="RollingBackCascade">
                                        <h2>Rolling Back Cascade     <a aria-label="Skip to Rolling Back Cascade" href="#RollingBackCascade"><i class="fas fa-link icon-anchor-link"></i></a></h2>
                        <p>In the event that the Cascade CMS 8 startup check prevents you completing the upgrade&#160;and you are unable to login to the system, it is possible to run a special version of Cascade Server 7 against the same database. &#160;This allows you to address any startup errors without having to roll back the database itself.</p>
<p>To run a compatible version of Cascade Server 7 against a database that has been modified by Cascade CMS 8, use the following steps:</p>
<ol>
<li>Download the&#160;<a href="https://hannonhill-public.s3.amazonaws.com/downloads/cascade/7.14.last/ROOT.war">Cascade Server 7.14.last <code>ROOT.war</code> file</a>. &#160;<em>Note that this version of Cascade Server 7 is only to be used when upgrading to Cascade CMS 8 and is not intended to be used in production.</em></li>
<li>Stop Cascade CMS 8 using <code>cascade stop</code>&#160;(Windows) or <code>cascade.sh stop</code> (Linux/OSX). &#160;Windows users who have installed Cascade as a service should stop the service.</li>
<li>Go into your Cascade CMS 8 installation directory and copy the existing <code>ROOT.war</code> file that resides in the <code>/tomcat/webapps</code> directory and store&#160;it somewhere that will be easily accessible later but outside of the install directory (i.e. not in the <code>/tomcat/webapps</code> directory).</li>
<li>Delete both the <code>ROOT.war</code> file and <code>ROOT</code> directory inside the <code>/tomcat/webapps</code> directory.</li>
<li>Take the <code>ROOT.war</code> file that was downloaded in Step 1 and place it in the <code>/tomcat/webapps</code> directory.</li>
<li>Run the following database query:
<ul>
<li><code>delete from DATABASECHANGELOG where ID = '8_0 migration';</code></li>
</ul>
</li>
<li>Start Cascade using <code>cascade start</code> (Windows) or <code>cascade.sh start</code> (Linux/OS X). Windows users running Cascade as a service should&#160;start the service.</li>
<li>Cascade Server 7 is now running against your existing database and you can address any startup errors that occurred when attempting the Cascade CMS 8 upgrade.</li>
</ol>
<p>Once you have addressed all issues contained in the Cascade CMS 8 startup logs, you should re-run the queries in the <a href="https://www.hannonhill.com/cascadecms/latest/cascade-administration/installation-and-upgrades/cascade-8-upgrade-prep.html#QueryDatabasetoVerifyItsUpgradability">Query Database to Verify Its Upgradability</a>&#160;section to verify the system is ready for upgrade. Once complete, reinstall Cascade CMS 8.</p>
<ol>
<li>Stop Cascade Server 7 using <code>cascade stop</code> (Windows) or <code>cascade.sh stop</code> (Linux/OSX). &#160;As mentioned in the initial steps, Windows users running Cascade as a service&#160;should stop the service.</li>
<li>Go into your Cascade CMS 8 installation directory (now using the Cascade Server 7 <code>ROOT.war</code> file)&#160;and remove both the <code>/tomcat/webapps/ROOT.war</code> file and the <code>/tomcat/webapps/ROOT</code> directory.</li>
<li>Retrieve the <code>ROOT.war</code> file that was created in Step 3 above, and move it into the <code>/tomcat/webapps</code> directory.</li>
<li>Start Cascade 8 using <code>cascade start</code> (Windows) or <code>cascade.sh start</code> (Linux/OS X). Windows users running Cascade as a service&#160;should start the service.</li>
</ol>
<p>Once the log file is clear of Cascade 8 startup errors, you will be able to log in to Cascade 8!</p>
                                    </section>
                                     <a aria-label="Back to top" class="scroll-container" href="#top">
        <span class="scroll-container__icon">↑</span>
    </a>
  
        </div>
            
    <script>
      function toggleWidthAndIcon() {
        var element = document.getElementById("expand");
        var icon = document.getElementById("iconToggle");
    
        // Check if the content is currently full width
        if (element.classList.contains("width-full")) {
          // If yes, switch to "width" and update the icon to "expand"
          element.classList.remove("width-full");
          element.classList.add("width");
          icon.classList.remove('fa-down-left-and-up-right-to-center');
          icon.classList.add('fa-up-right-and-down-left-from-center');
        } else {
          // If not, switch to "width-full" and update the icon to "un-expand"
          element.classList.remove("width");
          element.classList.add("width-full");
          icon.classList.remove('fa-up-right-and-down-left-from-center');
          icon.classList.add('fa-down-left-and-up-right-to-center');
        }
      }
    </script>
    
						
					</main>
				</div>
			</div>
			<footer>
				<div class="footer-wrapper ">
    <div class="cludo-feedback"></div> 
<hr/>
<div class="footer-container">
    <div class="footer-left">
        <img alt="cascade cms icon" class="footer-logo" src="https://www.hannonhill.com/cascadecms/latest/_files/images/apple-touch-icon-57x57.png"/>
        
                <p class="" id="site-copyright">All content <a aria-hidden="true" class="quickedit" href="https://hannonhill.cascadecms.com/entity/open.act?id=6c663b320a894fa553437b764d842eea&amp;type=page" tabindex="-1" target="_blank">©</a> 2026 <a href="https://www.hannonhill.com/index.html">Hannon Hill</a></p>
        
        
    </div>
    <div class="footer-right">
         <ul>
            <li><a href="https://www.hannonhill.com/about-us/about-hannon-hill.html">About us</a></li>
            <li><a href="https://www.hannonhill.com/about-us/join-our-team/index.html">Careers</a></li>
            <li><a href="https://www.hannonhill.com/documents/index.html">Compliance</a></li>
            <li><a href="https://www.hannonhill.com/resources/index.html">Resources</a></li>
            <li><a href="https://portal.productboard.com/gp4tteft4txh4nde2tnnnybl">Idea Portal</a></li>
            <li><a href="https://www.hannonhill.com/cascadecms/latest/sitemap.html">Site Index</a></li>
            <li><a href="https://github.com/hannonhill">Github</a></li>
        </ul>
    </div>
</div>
</div>
			</footer>
		</div>
		
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/lib/bootstrap/bootstrap.min.js"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/lib/bootstrap/scrollspy.js"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/application.js"></script>
<script src="https://www.hannonhill.com/cascadecms/latest/_files/_redesign/prism/prism.js" type="text/javascript"></script>
<script src="https://customer.cludo.com/scripts/bundles/search-script.min.js" type="text/javascript"></script>
<script>
var CludoSearch;
(function () {
    var cludoSettings = {
        customerId: 10001479,
        engineId: 10002755,
        searchUrl: 'https://www.hannonhill.com/cascadecms/latest/search.html',
        language: 'en',
        searchInputs: ['cludo-search-form', 'cludo-search-form-top'],
        hideSearchFilters: true,
        focusOnResultsAfterSearch: true,
        type: 'inline',
        template: 'InlineBasic',
        disableAutocomplete: true,
        <!--enableVoiceSearch: true-->
    };
    CludoSearch = new Cludo(cludoSettings);
    CludoSearch.init();
})();
</script>
<!--Cludo Experiences-->
<script data-cid="10001479" defer="defer" id="cludo-experience-manager" src="https://customer.cludo.com/scripts/bundles/experiences/manager.js"></script>
<!--[if lte IE 9]>
    <script src="https://api.cludo.com/scripts/xdomain.js" slave="https://api.cludo.com/proxy.html" type="text/javascript"></script>
<![endif]-->


		
		
<script type="text/javascript">
    piAId = '1002';
    piCId = '1003';
    
    (function() {
        function async_load(){
            var s = document.createElement('script'); s.type = 'text/javascript';
            s.src = ('https:' == document.location.protocol ? 'https://pi' : 'http://cdn') + '.pardot.com/pd.js';
            var c = document.getElementsByTagName('script')[0]; c.parentNode.insertBefore(s, c);
        }
        if(window.attachEvent) { window.attachEvent('onload', async_load); }
        else { window.addEventListener('load', async_load, false); }
    })();
</script>
<script type="text/javascript">
  sAId = "1";
  sCId = "4";

  (function() {
    function async_load(){
      var s = document.createElement('script'); s.type = 'text/javascript';
      s.src = (('https:' == document.location.protocol) ? "https://ssl" : "http://cdn") + ".spectate.com/s.js";
      var c = document.getElementsByTagName('script')[0]; c.parentNode.insertBefore(s, c);
    }
    if(window.attachEvent) { window.attachEvent('onload', async_load); }
    else { window.addEventListener('load', async_load, false); }
  })();
</script>


	    <script async="true" src="https://live.clive.cloud/page-views/track/12"></script>
		
	</body>
</html>